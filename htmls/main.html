<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/vnd.microsoft.icon">
    <title>HAL MS PROJECT</title>
    <link rel="stylesheet" href="../css/main.css">
    <script type="text/javascript" src="../js/jquery-2.0.3.min.js"></script>
    <script src="../js/particles.js-master/particles.js"></script>
    <script src="../js/audioManager.min.js"></script>
    <script src="../js/getQuery.js"></script>
    <script src="../js/audio.js"></script>
    <script src="../js/numCheck.js"></script>
    <style type="text/css">
    canvas#visualizer {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      margin: auto;
    }
    </style>
  </head>
  <body>

    <!-- shooting star -->
    <div id="particles-js"></div>

    <!-- audio sun -->
    <canvas id="visualizer"></canvas>

    <!-- planetarium star's -->
    <div id="particles-star"></div>

    <!-- milky way -->
    <div id="milkyway"></div>

    <script src="../js/set.js"></script>
    <script src="../js/anim.js"></script>
    <script src="../js/star.js"></script>

    <script type="text/javascript">

      function someFunc(value) {
        /* 範囲乱数数値sample
          最小 50, 最大 200
          Math.floor( Math.random() * (200 + 1 - 50) ) + 50 ;
        */
        const colorList = [
          ["#ff0000","#ffbb00","#ffbbbb","#ff00bb"], // red
          ["#00ff00","#bbff00","#bbffbb","#00ffbb"], // green
          ["#0000ff","#bb00ff","#00bbff","#bbbbff"]  // blue
        ];

        const stars = {
          "value"   : value[0],
          "size"    : value[1],
          "opacity" : value[2],
          "color"   : colorList[value[3]],
        }

        const shootings = {
          "speed"   : value[4],
          "size"    : value[5],
          "opacity" : value[6],
          "color"   : colorList[value[7]],
        }

        const milkys = {
          "value"   : value[8],
          "color"   : colorList[value[9]],
          "size"    : value[10],
          "opacity" : value[11],
          "left"    : value[12],
          "rotate"  : value[13],
        }

        star(stars);
        milky(milkys);
        shooting(shootings);
      }

      const current_path = location.href;
      const index = current_path.indexOf("htmls");
      const path = current_path.substring(0, index);

      const url = path + "json/sample.json";

      // const getData = getQuery();
      // const url = path + "json/" + getData["name"] + ".json";

      $.getJSON(url, function(jsonData) {
        const value = createNumber(jsonData);
        someFunc(value);
      });
    
    </script>
  </body>
</html>