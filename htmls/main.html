<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>HAL MS PROJECT</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <script type="text/javascript" src="../js/jquery-2.0.3.min.js"></script>
    <script src="../js/particles.js-master/particles.js"></script>
    <script src="../js/audioManager.min.js"></script>
    <script src="../js/audio.js"></script>
    <script type="text/javascript" src="../data.json"></script>
    <script type="text/javascript">
    function startDiplay() {
      $.getJSON("../data.json", function(data) {

        /* 範囲乱数数値sample
          最小 50, 最大 200
          Math.floor( Math.random() * (200 + 1 - 50) ) + 50 ;
        */

        var colorList = [
          ["#ff0000","#ffbb00","#ffbbbb","#ff00bb"], // red
          ["#00ff00","#bbff00","#bbffbb","#00ffbb"], // green
          ["#0000ff","#bb00ff","#00bbff","#bbbbff"]  // blue
        ];

        var stars = {
          "value" : data[0]["star"]["value"],
          "size" : data[0]["star"]["size"],
          "opacity" : data[0]["star"]["opacity"],
          "color" : colorList[data[0]["star"]["color"]],
        }

        var shootings = {
          "speed" : data[0]["shootingstar"]["speed"],
          "size" : data[0]["shootingstar"]["size"],
          "opacity" : data[0]["shootingstar"]["opacity"],
          "color" : colorList[data[0]["shootingstar"]["color"]],
        }

        var milkys = {
          "value" : data[0]["milkyway"]["value"],
          "color" : colorList[data[0]["milkyway"]["color"]],
          "size" : data[0]["milkyway"]["size"],
          "opacity" : data[0]["milkyway"]["opacity"],
          "top" : data[0]["milkyway"]["top"],
          "left" : data[0]["milkyway"]["left"],
          "rotate" : data[0]["milkyway"]["rotate"],
        }

        star(stars);
        milky(milkys);
        shooting(shootings);
      });
    }
    function offDisplay() {
      star(0);
      milky(0);
      shooting(0)
    }
    </script>
    <style type="text/css">
    canvas#visualizer {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      margin: auto;
      z-index: 9999;
    }
    </style>
  </head>
  <body>
    <input id="startViewButton" type="button" value="start" onclick="startDiplay()"/>
    <input type="button" value="end" onclick="offDisplay()"/>

    <!-- audio sun -->
    <canvas id="visualizer"></canvas>

    <!-- shooting star -->
    <div id="particles-js"></div>

    <!-- planetarium star's -->
    <div id="particles-star"></div>

    <!-- milky way -->
    <div id="milkyway"></div>

    <script src="../js/shooting.js"></script>
    <script src="../js/milkyway.js"></script>
    <script src="../js/star.js"></script>

  </body>
</html>